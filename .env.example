# ==============================================================================
# SQUASH PAYMENT BOT - ENVIRONMENT VARIABLES TEMPLATE
# ==============================================================================
# Copy this file to .env.prod (production) or .env (local development)
# Fill in all required values before starting the application
# See docs/plans/2025-02-09-deployment-design.md for detailed information
# ==============================================================================

# ------------------------------------------------------------------------------
# DATABASE
# ------------------------------------------------------------------------------
# PostgreSQL database configuration
# Used by the PostgreSQL container and application

# Database name (default: squash_bot)
POSTGRES_DB=squash_bot

# Database user (default: postgres)
POSTGRES_USER=postgres

# Database password (REQUIRED - change this to a strong password)
POSTGRES_PASSWORD=your-secure-database-password-here

# Full database URL (constructed from above variables)
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
# For Docker: host is 'postgres' (container name)
# For local: host is 'localhost'
DATABASE_URL=postgresql://postgres:your-secure-database-password-here@postgres:5432/squash_bot

# ------------------------------------------------------------------------------
# TELEGRAM
# ------------------------------------------------------------------------------
# Telegram bot configuration
# Obtain bot token from @BotFather on Telegram

# Bot token from @BotFather (REQUIRED)
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz-1234567

# Main chat ID where bot operates (REQUIRED)
# To get chat ID: add bot to group, send message, check with bot API
TELEGRAM_MAIN_CHAT_ID=-1001234567890

# Log chat ID for error messages and monitoring (REQUIRED)
# Can be same as main chat or different chat for logs
TELEGRAM_LOG_CHAT_ID=-1001234567890

# Admin Telegram user ID (REQUIRED)
# To get your user ID, message @userinfobot on Telegram
ADMIN_TELEGRAM_ID=123456789

# ------------------------------------------------------------------------------
# NOTION (OPTIONAL - if using Notion integration)
# ------------------------------------------------------------------------------
# Notion API configuration
# Create integration at https://www.notion.so/my-integrations

# Notion API key (leave empty if not using Notion)
NOTION_API_KEY=

# Notion database IDs (leave empty if not using Notion)
# Each database ID is a 32-character hex string
NOTION_DATABASE_SCAFFOLDS=
NOTION_DATABASE_EVENTS=
NOTION_DATABASE_PARTICIPANTS=
NOTION_DATABASE_EVENT_PARTICIPANTS=
NOTION_DATABASE_PAYMENTS=
NOTION_DATABASE_SETTINGS=

# ------------------------------------------------------------------------------
# API SERVER
# ------------------------------------------------------------------------------
# Fastify API server configuration for n8n webhooks

# API authentication key (REQUIRED)
# Generate a strong random key: openssl rand -hex 32
API_KEY=your-secure-api-key-here-min-32-characters

# Server port (default: 3010)
# This is the internal port, Nginx proxies to this
PORT=3010

# ------------------------------------------------------------------------------
# APPLICATION SETTINGS
# ------------------------------------------------------------------------------

# Timezone for date/time operations (default: Europe/Belgrade)
# Format: IANA timezone database name (e.g., Europe/Belgrade, America/New_York)
TIMEZONE=Europe/Belgrade

# Node environment (production, development, or test)
# Default: production
NODE_ENV=production

# Environment type (production or test)
# Used by config loader to determine which .env file to load
# Default: production
ENVIRONMENT=production
